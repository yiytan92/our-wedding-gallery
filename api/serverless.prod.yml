iam:
  role:
    managedPolicies:
      - ${ssm:/our-wedding/${self:provider.stage}/apps/gallery/policy-arn}

plugins:
  - serverless-esbuild

custom:
  esbuild:
    external:
      - sharp

  tags:
    Service: OurWedding
    Application: Gallery
    Env: ${self:provider.stage}

  uploadBucketName: 'wedding-gallery-upload'
  photoBucketName: 'wedding-gallery-photos'
  photoBucketPrefix: 'photo'
  photoBucketPublicReadUrl: 'd3nkc77h3egb01.cloudfront.net'
  photoTableName: 'photo-table'
  host: 'https://16november2024.com/'
  maxPhotosPerRequest: 50
